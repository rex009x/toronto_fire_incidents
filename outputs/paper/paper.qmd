---
title: "Visualize Fire: An Analysis of Monthly Fire Incidents in Toronto Pre- and Post-COVID-19"
author: 
  - Jimmy Luc
thanks: "Code and data are available at: https://github.com/rex009x/toronto_fire_incidents."
date: today
date-format: long
abstract: "In addition to the COVID-19 pandemic, a surge in fire incidents across the city of Toronto became a more pressing concern. Confined within your homes to ensure safety through isolation, the looming threat of household fires increases. Whether it be a measly kitchen fire to apartment evacuation-level threats, this analysis aims to contextualize data into narratives that can be absorbed and develop valuable insights. With data observation and analysis, a more compelling story will be discovered which will shed light on the broader events occurring in the world beyond the raw numbers."
format:
  pdf:
    fig-pos: "H"
toc: true
number-sections: true
bibliography: references.bib
---

```{r}
#| warning: false
#| message: false
#| echo: false

#### Workspace set-up ####
library("tidyverse")
library("dplyr")
library("lubridate")
library("here")

#### Read in the data ####
cleaned_fire_incidents_data <-
  read_csv(
    file = here("inputs/data/cleaned_fire_incidents_data.csv"),
    show_col_types = FALSE
  )
```

# Introduction

The unprecedented coronavirus disease (COVID-19) flipped the world as we knew it upside down. The World Health Organization (WHO) announced a Public Health Emergency of International Concern (PHEIC) on January 30, 2020 and later classified the outbreak as a pandemic on March 11, 2020 [@citeCovidOverview]. Pursuing my undergraduate degree in Computer Science, shortly after completing my first fall semester and moving into the new year of 2020, little did I know that not only my post-secondary experience would be impacted but every aspect of life for myself and those around me. Being an introvert myself, the advised self-isolation in combination with online school was a welcomed change despite the chaos that ensued globally.

While the pandemic changed many thing for better or worse, fire incidents in particular have been on the constant rise since the beginning of the outbreak. Of course there could be many variables that could contribute to this increase but at the center of it all is the coronavirus which impacted everyone. Fire stations themselves were dealing with the effects of COVID-19 as they too are not impervious to its exposure [@citeTorontoSun]. A major shift in people's daily activities during the period of the COVID-19 lockdown left many sectors of society fragmented. Whether it be in-person to remote work environments, or in-class lectures to Zoom meetings, the threat of fire incidents happen to be one of many aspects of life that was impacted.

This analysis aims to uncover the nuances of the data analysis process itself with Toronto Fire Incident data, annual reports for Toronto Fire Services (TFS), and Statistics Canada. This paper will visualize the number of monthly fire incidents pre- and post-COVID-19 to extrapolate the differences in relation to the real world events occurring during those periods of time. Additionally, find whether or not there exists a correlation between fire incidents that occur and spending more time at home. A graph from Statistics Canada published in June 8, 2023 depicts the increase and decrease of various types of fire incidents in Canada was included as support. Although my findings show an increase in fire incident reports through `opendatatoronto` [@citeOpenDataToronto] datasets, the narrative behind the data itself is not present which is a objective I tackle throughout this paper.

\newpage

# Data

In this section I will be diving deeper into the various modes of `R`-based [@citeR] data collection and generation within `RStudio` [@citeRStudio]. The data used in this paper is retrieved from the `opendatatoronto` R package [@citeOpenDataToronto], namely, the Toronto fire incidents dataset. Other R packages including functionalities from `tidyverse` [@citeTidyverse], `janitor` [@citeJanitor], `here` [@citeHere], `readr` [@citeReadr], `ggplot2` [@citeGgplot2], and `dplyr` [@citeDplyr]. Greater detail concerning the utilization of the mentioned packages will be further explained in the following subsections.

## Data Collection

All data used to generate the visualizations in this paper is through the City of Torontoâ€™s Open Data Portal which is an open source tool designed to be publicly available and encourage the development of valuable insights. Specifically, concerning ourselves with the Toronto's Fire Incidents dataset. A noteworthy caveat to this data is that it is defined by the Ontario Fire Marshal (OFM) up to December 31, 2022. Furthermore, fire incidents that may include incomplete data may be currently unavailable due to an undergoing investigation or is identified as a "no loss outdoor fire" [@citeTorontoFireIncidents].

## Variables of Interest

While the data includes fruitful information, it is limited to a degree in order to preserve the privacy and respect of those affected. This analysis largely concerns itself with the Toronto Fire Services (TFS) alarm time which dates the exact timestamp the TFS was notified of the particular incident.

## Data Processing

In order to generate our required visualizations, processing the initial data retrieved is the first step. With the aid of `tidyverse` [@citeTidyverse], `janitor` [@citeJanitor], `here` [@citeHere], and `dplyr` [@citeDplyr], are able to retrieve, clean, and isolate the data to acquire our variables of interest.

Now with our cleaned data saved into our local directory as a .csv file, we proceed with filtering our data to our desire. Since our data is revolved around timestamps, with the data being a date, namely, a Date object, I can filter incidents that occur at any given time within the bounds of the data elements themselves and find the collective amount of incidents. If I wish to analyze the number of fire incidents that have occurred during Canada Day, I can filter the data for incidents on the first day of July and find exactly how many the TFS received. Knowing this, I can further isolate the variable of interest to acquire the data of interest.

\newpage

# Results

This analysis takes a look at how the coronavirus pandemic has impacted fire incidents in Toronto, Canada. As the World Health Organization announced the state of the outbreak as a pandemic on March 11, 2020, we can interpret all of 2020 as the year COVID-19 began. Marking the preceding and proceeding years as pre- and post-COVID-19 respectively. As the data encapsulated incidents up to the end of 2022, we can set the bounds of our analysis plus or minus two years from 2020. When observing these graphs, we are seeking whether or not there is change in the number of incidents per year in addition to any visible trends.

## Fire Incidents During the Pandemic

Taking a look at @fig-cleaned_fire_incidents_20, we find that fire incidents occur the most during the summer months of the year 2020 which we can infer is due to the warmer temperatures. We can expect the following months in later years to ave increased fire incidents due to major socioeconomic shifts in workplace environments, self-isolation, etc.

```{r}
#| label: fig-cleaned_fire_incidents_20
#| fig-cap: Fire incidents in Toronto per month in 2020
#| echo: false
#| message: false
#| warning: false

cleaned_fire_incidents_data_2020 <-
  cleaned_fire_incidents_data %>%
    filter(year(tfs_alarm_time) == year("2020/1/1"))

# with the aid of https://stackoverflow.com/q/76848343 to format as mm/yyyy
cleaned_fire_incidents_data_2020$tfs_alarm_time <-
  as.factor(
    paste(
      cleaned_fire_incidents_data_2020$tfs_alarm_time |> month(),
      cleaned_fire_incidents_data_2020$tfs_alarm_time |> year(),
      sep="/"
      )
    )
  
cleaned_fire_incidents_data_2020 |>
  ggplot(aes(factor(tfs_alarm_time, levels = unique(tfs_alarm_time)), fill = tfs_alarm_time)) +
  geom_bar() +
  guides(fill="none") +
  labs(x = "Date", y = "Number of Incidents", title = "Toronto Fire Incidents in 2020 per Month") +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))
```

Combining our observations from @fig-cleaned_fire_incidents_20 and predictions, taking a look at @fig-cleaned_fire_incidents_21 and @fig-cleaned_fire_incidents_22, we begin to see some changes in the number of fire incidents throughout the year. Specifically, in @fig-cleaned_fire_incidents_21 the results begin to stagnate, but our observation holds true with summer months being the most common for fire incidents to occur. Switching over to @fig-cleaned_fire_incidents_22, the year of 2022 appears more similarly to 2020 in regards to the number of fire incidents. As COVID-19 restrictions become lifted mid-February to early March [@citeCovidReopening], in addition to the public longing to return back to a their workplaces and the outdoors, together this may relate to their similar results.
```{r}
#| label: fig-cleaned_fire_incidents_21
#| fig-cap: Fire incidents in Toronto per month in 2021
#| echo: false
#| message: false
#| warning: false

cleaned_fire_incidents_data_2021 <-
  cleaned_fire_incidents_data %>%
    filter(year(tfs_alarm_time) == year("2021/1/1"))

cleaned_fire_incidents_data_2021$tfs_alarm_time <-
  as.factor(
    paste(
      cleaned_fire_incidents_data_2021$tfs_alarm_time |> month(),
      cleaned_fire_incidents_data_2021$tfs_alarm_time |> year(),
      sep="/"
      )
    )
  
cleaned_fire_incidents_data_2021 |>
  ggplot(aes(factor(tfs_alarm_time, levels = unique(tfs_alarm_time)), fill = tfs_alarm_time)) +
  geom_bar() +
  guides(fill="none") +
  labs(x = "Date", y = "Number of Incidents", title = "Toronto Fire Incidents in 2021 per Month") +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))
```

```{r}
#| label: fig-cleaned_fire_incidents_22
#| fig-cap: Fire incidents in Toronto per month in 2022
#| echo: false
#| message: false
#| warning: false

cleaned_fire_incidents_data_2022 <-
  cleaned_fire_incidents_data %>%
    filter(year(tfs_alarm_time) == year("2022/1/1"))

cleaned_fire_incidents_data_2022$tfs_alarm_time <-
  as.factor(
    paste(
      cleaned_fire_incidents_data_2022$tfs_alarm_time |> month(),
      cleaned_fire_incidents_data_2022$tfs_alarm_time |> year(),
      sep="/"
      )
    )
  
cleaned_fire_incidents_data_2022 |>
  ggplot(aes(factor(tfs_alarm_time, levels = unique(tfs_alarm_time)), fill = tfs_alarm_time)) +
  geom_bar() +
  guides(fill="none") +
  labs(x = "Date", y = "Number of Incidents", title = "Toronto Fire Incidents in 2022 per Month") +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))
```

Although our observations does not fully align with our initial predictions purely based off the data, during this time period, what actually happened in reality tells another story. Fire incidents across Canada have been on a constant rise since the pandemic with the number of fatalities rising from 148 in 2019 to 202 in 2021. It is also important to note that pre-COVID-19 the total number of fire incidents have been decreasing [@citeStatisticsCanada]. As this information is based off of data limited to 2021 and does not covered the entirety of the pandemic, the World Health Organization announced that COVID-19 would no longer be classified as a public health emergency of international concern (PHEIC) [@citeCovidMeeting]. While this announcement may or may not have affect governments around the world to alleviate coronavirus restrictions, it marks the end of the pandemic.

## Fire Incidents Before the Pandemic

As we have analyzed our findings concerning fire incidents during the pandemic, as we switching over to pre-COVID-19 the results may be anticlimactic at best. With @fig-cleaned_fire_incidents_18 and @fig-cleaned_fire_incidents_19 representing the number of fire incidents monthly for 2018 and 2019 respectively, the data appears nearly identical to the proceeding years. As previously mentioned, Statistics Canada stated that fire incidents have been on track to decreasing prior to the pandemic but purely based of the data available from `opendatatoronto`, there are not many inferences to be made in this regard.
```{r}
#| label: fig-cleaned_fire_incidents_18
#| fig-cap: Fire incidents in Toronto per month in 2018
#| echo: false
#| message: false
#| warning: false

cleaned_fire_incidents_data_2018 <-
  cleaned_fire_incidents_data %>%
    filter(year(tfs_alarm_time) == year("2018/1/1"))

cleaned_fire_incidents_data_2018$tfs_alarm_time <-
  as.factor(
    paste(
      cleaned_fire_incidents_data_2018$tfs_alarm_time |> month(),
      cleaned_fire_incidents_data_2018$tfs_alarm_time |> year(),
      sep="/"
      )
    )
  
cleaned_fire_incidents_data_2018 |>
  ggplot(aes(factor(tfs_alarm_time, levels = unique(tfs_alarm_time)), fill = tfs_alarm_time)) +
  geom_bar() +
  guides(fill="none") +
  labs(x = "Date", y = "Number of Incidents", title = "Toronto Fire Incidents in 2018 per Month") +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))
```
 
```{r}
#| label: fig-cleaned_fire_incidents_19
#| fig-cap: Fire incidents in Toronto per month in 2019
#| echo: false
#| message: false
#| warning: false

cleaned_fire_incidents_data_2019 <-
  cleaned_fire_incidents_data %>%
    filter(year(tfs_alarm_time) == year("2019/1/1"))

cleaned_fire_incidents_data_2019$tfs_alarm_time <-
  as.factor(
    paste(
      cleaned_fire_incidents_data_2019$tfs_alarm_time |> month(),
      cleaned_fire_incidents_data_2019$tfs_alarm_time |> year(),
      sep="/"
      )
    )
  
cleaned_fire_incidents_data_2019 |>
  ggplot(aes(factor(tfs_alarm_time, levels = unique(tfs_alarm_time)), fill = tfs_alarm_time)) +
  geom_bar() +
  guides(fill="none") +
  labs(x = "Date", y = "Number of Incidents", title = "Toronto Fire Incidents in 2019 per Month") +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))
```

\newpage

# Discussion

While the statistical findings of this paper may have left you feeling unsatisfied, or as if there is still a piece of the puzzle missing, then you too are fulfilling the the responsibilities of a data analyst. This paper acts as an example that data alone, at face value, does not tell the whole story of what is actually happening. While it is arguable that data can in fact reveal information that would go unnoticed, my paper intends to demonstrate that the reverse is also an argument to be reckoned with.

Data has been a cornerstone in our world before any of us were brought here and is only becoming more present in our daily lives. Whether data is used for the betterment of society, or to simply tear it down, it is all the more important to develop an optimistic but critical approach when performing data analysis. In various sectors of society, it is imperative that we cherish and value interdisciplinary skills to a degree. We require multiple perspectives from people with different sorts of backgrounds, knowledge, and insights to produce a progressive society. Take this paper as the next step to thinking critically about data analysis, and more importantly information in a world abundant in misinformation.

# Conclusion

This paper challenges the connections between narratives perceived through data and real world events. While the data specifically analyzes Toronto, extending these observations to all of Canada can produce valuable insights. Regardless, whether or not fire incidents directly align with self-isolating at home and global pandemics, the bigger question is whether or not we can overcome challenges; from small-scale kitchen fires to the potential end of all humanity, data has the ability to write a story that connects the two together.

\newpage


# References